

# 电影院系统需求规格说明

## 1. 引言
### 1.1 目的
    本文档描述了影院管理系统的功能需求和非功能需求。开发小组的软件系统实现与验证工作都以此文档为依据。
### 1.2 范围

```
影院管理系统是为了xx影院开发的业务系统，开发的目标是帮助该影院处理日常的重点事物，包括消费者的查询电影详情、标记喜好电影、搜索电影，管理员的上架电影、预售信息统计。

通过影院管理系统的应用，期望为xx影院提高管理人员工作效率，提升消费者消费体验，吸引回头客，增加业务额，降低运营成本做支持。
```

### 1.3 参考文献
    （1）IEEE标准
    （2）影院管理系统用例文档v1.1
## 2. 总体描述

### 2.1 项目前景
#### 2.1.1 背景与机遇
    xx影院是一家刚刚发展起来的民营影院企业，规模较小，地址设在一个小区附近。由于规模较小，影院内部条件与大型影院有一定差距，主要业务额来源于旁边小区居民、朋友之间的介绍和回头客。由于顾客较少，影院采用的是小流量的信息处理系统，但随着周围小区数量的增多，基础设施的逐渐完善，影院的顾客也在不断增加，相对应的影院员工数量也在上涨。该影院希望合理应对这种情况，更换原先的信息管理系统，让新系统做到提高员工工作效率，提升顾客服务体验，并加入会员系统以吸引顾客再次光临。
    该影院管理系统就是为了满足xx影院的业务需求而开发的，它包括一个数据集中服务器和多个客户端。数据集中服务器将所有的数据存储起来进行维护。用户通过客户端完成日常业务处理，客户端与数据集中服务器采用实时通讯的方式完成数据交换。
#### 2.1.2 业务需求
    BR1：在系统使用六个月后，员工工作效率提高30%。
    BR2：在系统使用六个月后，用户的服务体验提高40%。
    BR3：在系统使用六个月后，销售额增加20%。
            最好情况：35%。
            最可能情况：20%。
            最坏情况：10%。
    BR4：在系统使用六个月后，回头客的概率增加50%。
### 2.2 项目功能
    1. 用户账户管理（注册、登陆）
    2. 帮助业务员管理电影（上架、下架、修改、查看）与影厅
    3. 帮助业务员统计预售电影的想看人数
    4. 帮助消费者查看电影详情，标记喜好电影，搜索电影信息，买票，出票与退票
    5. 制定促销手段，发布与赠送优惠券
    6. 发展会员，提高顾客回头率
    7. 帮助业务员统计电影信息（上座率、票房、客单价、排片率、最受欢迎电影）
### 2.3 用户特征
<table>
<tr>
<td>消费者</td>
<td>用户可以在界面上查看电影详情以及标记自己想看的电影，并使用会员卡或银行卡买票，如果不满意还可以退票，同时可以通过在固定时间内买票或购买制定电影票来获得优惠券，下次购买可以用到。而且消费者有的对系统不是很熟悉，所以对于首页有一定要求。
</td>
</tr>
<tr>
<td>管理员</td>
<td>每个营业厅 3 人左右。他们每天都需要操作系统。他们主要负责管理销售部分的事务，对于电影上架以及排片也要管理。他们负责影票的出售、出票以及退票管理。他们还负责优惠活动的发布、取消、管理。会员卡是他们工作的一个大项，他们负责制定策略、发行、修改。他们需要拥有良好的销售头脑和制定策略的能力。他们应该拥有良好的计算机操作能力，能简单使用办公信息化系统，对新系统态度积极，但不希望增加现有工作量。</td>
</tr>
<tr>
<td>经理</td>
<td>公司设1~2名。他们需要经常使用系统，需要登录经理账号。他们拥有最高权限，可以对所有用户进行管理，删除或者新建用户账号。一般的，他们可以按天、按营业厅查看收款单记录，包括合计功能。他们需要新建付款单进行成本管理。他们可以生成截止当前日期的成本收益表和经营情况表，并各报表可以导出。他们需要进行期初建账。他们计算机操作能力很好，具有较强的信息化办公能力，对新系统持积极态度，但不希望增加现有工作量。
</td>
</tr>
</table>

### 2.4 约束
    1. 系统将运行在 Windows XP/7/8/10/Mac OS 系统上。
    2. 系统不使用 Web 界面，而是图形界面，用户远程使用系统。
    3. 项目要使用持续集成方法进行开发。
    4. 在开发中，开发者要提交软件需求规格说明文档、设计描述文档和测试报告。
    5. 采用 Java 语言开发。
### 2.5 假设与依赖
    1. 所有的应收应付均从本公司角度出发。
    2. 系统需提供新建账户功能，以保证用户的使用权限。
    3. 系统管理员登录账号为 manage，初始密码 123456，管理员账号主要负责对用户账户（是指用这套系统的公司人员。不包括客户。需要识别每个操作员和业务员的信息和权限管理。
    4. 假设营业厅人力资源充足

## 3 详细需求描述
### 3.1 对外接口需求
#### 3.1.1 用户界面
```
UI1 通用界面 ：系统应使用可视化图形界面，帮助使用者进行通用操作。 
UI1.1 通用-用户登录界面：当操作人员打开该系统时，系统显示登陆界面。 
界面图示为：
```

![登录.png](https://i.loli.net/2019/06/17/5d07993eb9f8664725.png)

	UI1.2 通用-用户注册界面：当操作人员点击注册时，系统显示注册界面。 
	界面图示为：
![注册.png](https://i.loli.net/2019/06/17/5d07993d7c39445412.png)


	UI2 管理员界面：系统应使用可视化图形界面，帮管理员完成操作。 
	UI2.1 管理员-退票策略界面：当管理员点击退票管理时，系统应显示退票策略的界面。管理员点击新增退票策略是，系统弹窗，填写后新增或改变退票策略。
	界面图示为：
![退票1.png](https://i.loli.net/2019/06/17/5d0799a0416ca97072.png)

![退票2.png](https://i.loli.net/2019/06/17/5d0799a0a28f313693.png)

```
UI2.2 管理员-会员卡策略界面：当管理员点击会员管理时，显示现在的会员卡优惠策略，点击添加时，填写完数据后修改策略。
界面图示为：
```

![会员卡1.png](https://i.loli.net/2019/06/17/5d0799f0e08f635450.png)

![会员卡2.png](https://i.loli.net/2019/06/17/5d0799f19c19577659.png)

```
UI2.3 管理员-影厅管理界面： 当管理员点击影厅管理时，显示现有影厅，管理员可对现有影厅进行修改，也可新建影厅。
界面图示为：
```

![影厅1.png](https://i.loli.net/2019/06/17/5d079a172011b19863.png)

![影厅2.png](https://i.loli.net/2019/06/17/5d079a17ba27882818.png)

```
UI2.4 经理-影院角色管理界面： 当经理登录后，显示现有角色，经理可以新建角色或对已有角色修改。
界面图示为：
```

![影院角色管理.png](https://i.loli.net/2019/06/18/5d086f812efec41651.png)

	UI2.5 管理员-赠送优惠券界面：当管理员点击赠送优惠券时，输入门槛金额后，系统会筛选门槛上的会员，管理员可以赠送优惠券。
	界面图示为：

![优惠券赠送.png](https://i.loli.net/2019/06/17/5d079a39edbbf32541.png)

	UI3 用户界面：系统应使用可视化图形界面，帮助用户完成操作
	UI3.1 用户-电影票界面：当用户点击电影票时，显示该用户所有电影票，用户可在上面完成退票与出票操作。 
	界面图示为：

![用户退票.png](https://i.loli.net/2019/06/18/5d086fd6250d997146.png)

```
UI3.2 用户-查看历史消费记录界面：当用户点击消费记录时，显示消费记录界面。
界面图示为：
```

![消费记录.png](https://i.loli.net/2019/06/17/5d079a582f20987227.png)

```
UI3.3 用户-查看历史充值记录界面：当用户会员卡中的充值记录时，显示充值记录界面。
界面图示为：
```

![会员卡充值记录.png](https://i.loli.net/2019/06/18/5d087014d5c0411848.png)

#### 3.1.2 通信接口

	C1：客户端和服务器使用RMI的方式进行通信
### 3.2 功能需求
#### 3.2.1  用例1 会员卡策略管理
##### 3.2.1.1 特征描述

    经过验证的系统管理员对会员卡优惠策略进行管理，包括对会员卡优惠策略的添加和修改操作。
    优先级=高

##### 3.2.1.2 刺激/响应序列

    刺激:系统管理员点击会员卡优惠
    响应:系统显示会员卡优惠策略界面（包括会员卡价格，充值额度，返现额度等信息）
    刺激:系统管理员点击新建策略
    响应:系统弹出对话框请求输入
    刺激:系统管理员输入信息
    响应:系统显示已输入的信息
    刺激:系统管理员点击确认
    响应:系统显示修改后的策略

##### 3.2.1.3 相关功能需求

<table>
<tr>
<td>MemberStrategy.Require</td>
<td>系统允许管理员查看会员卡优惠策略</td>
</tr>
<tr>
<td>MemberStrategy.Input<br>MemberStrategy.Input.Confirm<br>MemberStrategy.Input.Invalid<br>MemberStrategy.Input.Cancel </td>
<td>系统允许管理员输入会员优惠策略<br>系统允许管理员确认新的会员优惠策略<br>当管理员输入格式错误时，系统提示输入格式错误<br>当管理员选择返回时，系统放弃新建新的会员策略</td>
</tr>
<tr>
<td>MemberStrategy.Update <br> MemberStrategy.Update.Close </td>
<td>系统存储并更新新的会员优惠策略<br>系统在更新完对应信息后自动关闭本次上架电影任务，参见MemberStrategy.Close</td>
</tr>
<tr>
<td>MemberStrategy.Check<br>MemberStrategy.Check.Valid<br>MemberStrategy.Check.Invalid</td>
<td>系统核实新的会员优惠信息<br>系统核实录入信息成功，显示新的会员优惠策略，详情见MemberStrategy.Update<br>系统核实失败，显示添加失败</td>
</tr>
<tr>
<td>MemberStrategy.Close</td>
<td>系统关闭本次新建会员优惠策略任务</td>
</tr>
<tr>
<td>MemberStrategy.End<br>MemberStrategy.End.Cancel<br>MemberStrategy.End.Confirm</td>
<td>系统允许管理员退出新建会员卡优惠任务<br>系统允许管理员取消退出<br>系统询问管理员是否确认退出</td>
</tr>
</table>


#### 3.2.2  用例2 退票策略管理
##### 3.2.1.1 特征描述

    经过验证的系统管理员对退票策略进行管理，包括对退票策略的添加和修改操作。
    优先级=高

##### 3.2.1.2 刺激/响应序列

    刺激:系统管理员点击退票策略
    响应:系统显示退票策略界面（包括退票时间，返现比例等信息）
    刺激:系统管理员点击新建策略
    响应:系统弹出对话框请求输入
    刺激:系统管理员输入信息
    响应:系统显示已输入的信息
    刺激:系统管理员点击确认
    响应:系统显示修改后的策略

##### 3.2.1.3 相关功能需求
<table>
<tr>
<td>RefundStrategy.Require</td>
<td>系统允许管理员查看退票策略</td>
</tr>
<tr>
<td>RefundStrategy.Input<br>RefundStrategy.Input.Confirm<br>RefundStrategy.Input.Invalid<br>RefundStrategy.Input.Cancel </td>
<td>系统允许管理员输入退票策略<br>系统允许管理员确认新的退票策略<br>当管理员输入格式错误时，系统提示输入格式错误<br>当管理员选择返回时，系统放弃新建新的退票策略</td>
</tr>
<tr>
<td>RefundStrategy.Update <br> RefundStrategy.Update.Close </td>
<td>系统存储并更新新的退票策略<br>系统在更新完对应信息后自动关闭本次新建退票任务，参见RefundStrategy.Close</td>
</tr>
<tr>
<td>RefundStrategy.Check<br>RefundStrategy.Check.Valid<br>RefundStrategy.Check.Invalid</td>
<td>系统核实新的退票策略信息<br>系统核实录入信息成功，显示新的退票策略，详情见RefundStrategy.Update<br>系统核实失败，显示添加失败</td>
</tr>
<tr>
<td>RefundStrategy.Close</td>
<td>系统关闭本次新建退票策略任务</td>
</tr>
<tr>
<td>RefundStrategy.End<br>RefundStrategy.End.Cancel<br>RefundStrategy.End.Confirm</td>
<td>系统允许管理员退出新建退票任务<br>系统允许管理员取消退出<br>系统询问管理员是否确认退出</td>
</tr>
</table>


#### 3.2.3  用例3 影厅信息管理
##### 3.2.3.1 特征描述
    经过验证的系统管理员对影厅信息进行管理，包括对现有影厅的数据修改和新建影厅操作。
    优先级=高

##### 3.2.3.2 刺激/响应序列
    刺激:系统管理员点击影厅信息
    响应:系统显示影厅信息界面（包括排数，列数，影厅类型，影厅名称等信息）
    刺激:系统管理员点击新建策略
    响应:系统弹出对话框请求输入
    刺激:系统管理员输入信息
    响应:系统显示已输入的信息
    刺激:系统管理员点击确认
    响应:系统显示修改后的策略
    刺激:管理员点击已有影厅
    响应:系统显示已有影厅信息（可修改）

##### 3.2.3.3 相关功能需求

<table>
<tr>
<td>HallInfoManage.Require</td>
<td>系统允许管理员查看影院信息详情</td>
</tr>
<tr>
<td>HallInfoManage.Input<br>HallInfoManage.Input.Confirm<br>HallInfoManage.Input.Invalid<br>HallInfoManage.Input.Cancel </td>
<td>系统允许管理员输入影院信息<br>系统允许管理员确认新的影院信息<br>当管理员输入格式错误时，系统提示输入格式错误<br>当管理员选择返回时，系统放弃新建新的影院</td>
</tr>
<tr>
<td>HallInfoManage.Update <br> HallInfoManage.Update.Close </td>
<td>系统存储并更新新的影院信息<br>系统在更新完对应信息后自动关闭本次新建影院任务，参见HallInfoManage.Close</td>
</tr>
<tr>
<td>HallInfoManage.Check<br>HallInfoManage.Check.Valid<br>HallInfoManage.Check.Invalid</td>
<td>系统核实新的影院信息<br>系统核实录入信息成功，显示新的影院信息，详情见HallInfoManage.Update<br>系统核实失败，显示添加失败</td>
</tr>
<tr>
<td>HallInfoManage.Close</td>
<td>系统关闭本次新建影院信息任务</td>
</tr>
<tr>
<td>HallInfoManage.End<br>HallInfoManage.End.Cancel<br>HallInfoManage.End.Confirm</td>
<td>系统允许管理员退出新建影院信息任务<br>系统允许管理员取消退出<br>系统询问管理员是否确认退出</td>
</tr>
</table>


#### 3.2.4  影院角色管理

##### 3.2.4.1 特征描述
    经过验证的经理进入影院角色管理界面，新建角色或对已有角色进行修改。
    优先级=高

##### 3.2.4.2 刺激/响应序列
    刺激：经理在主界面点击影院角色管理
    响应：系统跳转到影院角色界面。
    刺激：经理点击新建角色。
    响应：系统弹出对话框请求输入。
    刺激:经理输入信息
    响应:系统显示已输入的信息
    刺激:经理点击确认
    响应:系统显示新建后的影院角色
    刺激:经理点击已有角色
    响应:系统弹出对话框（经理可修改数据）

##### 3.2.4.3 相关功能需求

<table>
<tr>
<td>RoleManage.Require</td>
<td>系统允许经理查看影院角色</td>
</tr>
<tr>
<td>RoleManage.Input<br>RoleManage.Input.Confirm<br>RoleManage.Input.Invalid<br>RoleManage.Input.Cancel </td>
<td>系统允许经理输入新的角色信息<br>系统允许经理确认新的影院角色信息<br>当经理输入格式错误时，系统提示输入格式错误<br>当经理选择返回时，系统放弃新建新的影院角色</td>
</tr>
<tr>
<td>RoleManage.Update <br> RoleManage.Update.Close </td>
<td>系统存储并更新新的影院角色<br>系统在更新完对应信息后自动关闭本次新建角色，参见RoleManage.Close</td>
</tr>
<tr>
<td>RoleManage.Check<br>RoleManage.Check.Valid<br>RoleManage.Check.Invalid</td>
<td>系统核实新的影院角色信息<br>系统核实录入信息成功，显示新的影院角色，详情见RoleManage.Update<br>系统核实失败，显示添加失败</td>
</tr>
<tr>
<td>RoleManage.Close</td>
<td>系统关闭本次新建影院角色任务</td>
</tr>
<tr>
<td>RoleManage.End<br>RoleManage.End.Cancel<br>RoleManage.End.Confirm</td>
<td>系统允许经理退出新建影院角色任务<br>系统允许经理取消退出<br>系统询问经理是否确认退出</td>
</tr>
</table>


#### 3.2.5  用例5 用户退票
##### 3.2.5.1 特征描述

    经过登陆的消费者，在电影票界面可对未出票的电影票进行退票。
    优先级=中

##### 3.2.5.2 刺激/响应序列

    刺激:消费者点击电影票按钮
    响应:系统进入电影票界面，显示已购买的电影票
    刺激:消费者点击退票按钮
    响应:系统将对应电影票退票

##### 3.2.5.3 相关功能需求
<table>
<tr>
<td>Refund.Require</td>
<td>系统允许消费者进行退票操作</td>
</tr>
<tr>
<td>Refund.Click<br>Refund.Click.Valid<br>Refund.Click.Invalid</td>
<td>系统允许消费者通过点击进行退票<br>点击操作合理，系统退票，详见Refund.Update<br>点击操作非法，系统不予响应</td>
</tr>
<tr>
<td>Rrfund.Update</td>
<td>当消费者点击退票后，系统更新数据，显示新的电影票状态</td>
</tr>
</table>

#### 3.2.6  用例6 查看历史消费记录
##### 3.2.6.1 特征描述

    经过登陆的消费者进入历史消费记录界面，查看历史消费
    优先级=低

##### 3.2.6.2 刺激/响应序列

    刺激:消费者点击消费记录按钮
    响应:系统显示历史消费记录界面
##### 3.2.6.3 相关功能需求
<table>
<tr>
<td>ExpenseCalendar.Require</td>
<td>系统允许消费者进行查询历史消费记录操作</td>
</tr>
</table>

#### 3.2.7 用例7 赠送优惠券

##### 3.2.7.1 特征描述

```
经过登录的管理员进入会员赠券界面，通过设置消费门槛筛选会员来赠送优惠券
优先级=低
```

##### 3.2.7.2 刺激/响应序列

```
刺激：管理员点击会员赠券
响应：系统进入会员赠券界面
刺激：管理员输入门槛消费金额
响应：系统显示已输入的金额
刺激：管理员点击确认
响应：系统显示符合要求的会员名单
刺激：管理员选择会员
响应：系统显示已选中的会员
刺激：管理员点击确认赠券
响应：系统赠送优惠券
```

##### 3.2.7.3 相关功能需求

<table>
<tr>
<td>CouponPresent.Require</td>
<td>系统允许管理员赠送优惠券</td>
</tr>
<tr>
<td>CouponPresent.Input<br>CouponPresent.Input.Confirm<br>CouponPresent.Input.Invalid</td>
<td>系统允许管理员输入门槛金额<br>系统允许管理员确认输入的门槛金额<br>当管理员输入不和规范时，系统提示输入违法</td>
</tr>
<tr>
<td>RoleManage.VIP</td>
<td>系统显示符合要求的会员用户</td>
</tr>
<tr>
<td>RoleManage.Check<br>RoleManage.Check.Valid<br>RoleManage.Check.Invalid</td>
<td>系统核实选中的会员用户<br>系统核实会员信息成功，向选中会员赠送优惠券<br>系统核实失败，显示赠送失败</td>
</tr>
<tr>
<td>RoleManage.Click<br>RoleManage.Click.Confirm<br>RoleManage.Click.Invalid</td>
<td>系统允许管理员通过点击选中会员<br>系统允许管理员确认选中名单并点击赠送优惠券，详见RoleManage.Check<br>当选中不和规范时，系统提示选中失败</td>
</tr>
<tr>
<td>RoleManage.End<br>RoleManage.End.Cancel<br>RoleManage.End.Confirm</td>
<td>系统允许管理员退出赠送优惠券任务<br>系统允许管理员取消退出<br>系统询问管理员是否确认退出</td>
</tr>
</table>

#### 3.2.8 用例8 查看历史充值记录

##### 3.2.8.1 特征描述

```
经过登陆的消费者进入历史充值界面，查看历史充值记录
优先级=低
```

##### 3.2.8.2 刺激/响应序列

```
刺激:消费者点击充值记录按钮
响应:系统显示用户会员卡充值记录
```

##### 3.2.8.3 相关功能需求

<table>
<tr>
<td>RechargeCalendar.Require</td>
<td>系统允许消费者进行查询历史充值记录操作</td>
</tr>
</table>

### 3.3 非功能需求

#### 3.3.1  安全性

    Safety1:系统应该只允许经过验证和授权的用户访问。
    Safety2:系统应该按照用户身份验证用户访问权限:
        观众，管理员，经理，具有访问权限
        其他身份用户没有访问权限
    Safety3:系统中有一个默认的管理员账户，该用户只允许管理员用户修改口令。

#### 3.3.2  可维护性

    Modifiability1:在系统的数据格式发生变化时，系统能够在3人1天内完成。
    Modifiability2:如果系统要增加新的电影和影厅，要能够在 0.25 个人月内完成。
    Modifiability3:如果系统要增加新的影院，要能够在 0.25 个人月内完成。 

#### 3.3.3  易用性

    Usability1:提供模糊搜索的功能，系统会生成包含该关键字的条目供用户选择。
    Usability2:创建新排片表单或者新账户，系统提供缺省选项或者缺省条目即为 最常用选项，减少输入。

#### 3.3.4  可靠性

    Reliability1:在客户端与服务器通信时，如果网络故障，系统不能出现故障。
        Reliability1.1:客户端应该检测故障，并尝试重新连接网络3次，每次15秒
            Reliability1.1.1:重新连接后，客户端应该继续之前的工作; Reliability1.1.2:如果重新连接不成功，客户端应该等待5分钟后再次尝试重新连接; 
                Reliability1.1.2.1:重新连接后，客户端应该继续之前的工作; Reliability1.1.2.2:如果重新连接仍然不成功，客户端报警。

#### 3.3.5  业务规则

    BR1:电影票定价规则
    BR2:会员规则：
    	会员卡需购买，向会员卡中充值额度金额后会赠送相应金额
    BR3:电影促销规则：
    	消费者购买指定电影票或在指定时间内购买电影票会获得优惠券，管理员也可根据消费额度赠送优惠券
    BR4：退票规则：
    	当在电影开场前指定时间前，用户可退票，返还一定比例票价金额

#### 3.3.6  约束

    IC1:在开发过程中缺少高端服务器，需要在普通计算机上搭建服务器。
    IC2:在开发过程中缺少可以的打印机，需要使用文件系统模拟打印机。
    IC3:系统要求在网络上分布为一个服务器和多个客户端。


### 3.4  数据需求
#### 3.4.1  数据定义

	DR1:系统需要存储一年的内的会员购票/退票记录
	DR2:系统需要存储一年之内的影片销售信息
	DR3:影片下架后仍需保存影片的销售信息至少三个月以便查询历史数据
#### 3.4.2  默认数据
	默认数据用于以下情况：
	系统新增数据时
	编辑数据不小心将相关内容清空
	
	Default1：用户昵称默认为“用户+用户编号”
	Default2：电影购票数量默认为1
	Default3：电影上架时想看人数默认为0
	Default4：购票信息发送的手机号默认为当前用户信息中的手机号
	Default5：电影下架原因默认为到期
	Default6：电影上架时间默认为当前时间

#### 3.4.3  数据格式要求

	Format1：为方便用户管理，要求使用6位0~9数字标识用户编号
	Format2：用户名必须由数字或者字母组成的4~16位长的字符串
	Format3：处于安全性方面考虑，用户密码必须为同时包含且数字，小写字母，大写字母的6~16位的字符串
	Format4：电影价格的格式必须是大于等于0，精确到小数点后两位的浮点数，单位为元
	Format5：数量的格式必须为整数
	Format6：日期的格式必须为yyyy-mm-dd
	Format7：电影下架原因必须为时间到期，发行商要求下架，影片存在侵权/违法行为，销量不佳和其他
### 3.5  其他
	安装需求
	Install1：在安装系统时，初始化用户，电影列表等重要信息
	Install2：系统投入使用后，需要呈现给用户使用说明，并告知如何在使用过程中获得帮助
